<div class="container"> <div class="row"> <div class="col-sm-12 step"> <section class="sub-step"> <article class="step-content"> <form class="form form-wide form-geocoder" method="POST" id="form" name="form"> <div class="form-group address"> <label aria-hidden="true" class="element-invisible control-label" for="geocoder">Drag the pin or search for a location</label> <input type="text" class="form-control input-xl" id="address" name="address" data-ng-model="geography.address" data-ng-change="searchAddress()" placeholder="Begin typing a city, zip code, or address" autofocus> <div data-ng-if="geocode_features.length && geography.address.length >= 3" class="dropdown"> <ul> <!-- <li data-ng-if="relationship_focus && !features.length"><p><em>Begin typing to select the {{ field.label }} you want</em></p></li> --> <li data-ng-repeat="possible_result in geocode_features"><a data-ng-click="selectCoordinate(possible_result)">{{ possible_result.place_name }}</a></li> </ul> </div> </div> </form> <leaflet class="map" markers="map.markers" defaults="map.defaults" layers="map.layers" center="map.center" width="100%" height="425"></leaflet> </article> </section> <section class="sub-step"> <article class="step-content"> <form method="POST"> <fieldset> <div class="form-group" data-ng-repeat="field in template.fields | orderBy:'order'"> <div data-ng-if="field.data_type === 'boolean'" class="checkbox"> <label> <input data-ng-model="feature[field.name]" type="checkbox" id="{{ field.name }}" name="{{ field.name }}"> {{ field.label }} </label> </div> <label data-ng-if="field.data_type !== 'boolean'" for="{{ field.name }}" class="control-label"><span>{{ field.label }}</span></label> <select data-ng-if="field.data_type === 'list'" class="form-control" data-ng-model="feature[field.name]" id="{{ field.name }}" name="{{ field.name }}" data-ng-options="value for value in field.options"> </select> <select data-ng-if="field.data_type === 'relationship'" class="form-control" data-ng-model="feature[field.relationship]" id="{{ field.relationship }}" name="{{ field.relationship }}" data-ng-options="value.id as value.name for value in field.options"> </select> <input data-ng-model="feature[field.name]" data-ng-if="field.data_type === 'email'" class="form-control" type="email" id="{{ field.name }}" name="{{ field.name }}"> <input data-ng-model="feature[field.name]" data-ng-if="field.data_type === 'url'" class="form-control" type="url" id="{{ field.name }}" name="{{ field.name }}"> <input data-ng-model="feature[field.name]" data-ng-if="field.data_type === 'phone'" class="form-control" type="tel" id="{{ field.name }}" name="{{ field.name }}"> <input data-ng-model="feature[field.name]" data-ng-if="field.data_type === 'date'" class="form-control" class="form-control" type="date" id="{{ field.name }}" name="{{ field.name }}"> <input data-ng-model="feature[field.name]" data-ng-if="field.data_type === 'time'" class="form-control" type="time" id="{{ field.name }}" name="{{ field.name }}"> <input data-ng-model="feature[field.name]" data-ng-if="field.data_type === 'whole_number' || field.data_type === 'float'" class="form-control" type="number" id="{{ field.name }}" name="{{ field.name }}" placeholder="{{ field.label }}"> <textarea rows="1" data-ng-show="show" data-ng-init="show = true" data-ng-model="feature[field.name]" class="form-control animate" msd-elastic data-ng-if="field.data_type === 'textarea' || field.data_type === 'text'" id="{{ field.name }}" name="{{ field.name }}" placeholder="{{ field.label }}">{{ feature[field.name] }}</textarea> <div data-ng-if="field.data_type === 'file'" class="file-wrapper"> <div class="drop align-center" data-ng-file-drop="onFileSelect($files, field.relationship)" data-ng-file-drag-over-class="dragover"> <span class="glyphicon glyphicon-cloud-upload upload"></span> <p class="label-dragdrop">Drag and drop your files here</p> <p class="label-or"><em>or</em></p> <span class="btn btn-default">Choose files to upload <input type="file" data-ng-file-select="onFileSelect($files, field.relationship)" multiple></span> </div> <div class="row upload-list" data-ng-repeat="file in files track by $index"> <div class="column-16 thumbnail align-center"> <img data-ng-if="file.file.preview" data-ng-src="{{ file.file.preview }}"> <img data-ng-if="file.filepath" data-ng-src="http://{{ file.filepath }}"> <p class="help-block"><small data-ng-if="file.file.name">{{ file.file.name }}</small><small data-ng-if="file.filename">{{ file.filename }}</small></p> <p class="action"> <a class="remove" data-ng-click="remove_confirmation=true;" data-ng-show="!remove_confirmation">Remove</a> <span data-ng-show="remove_confirmation"><a class="cancel" data-ng-click="remove_confirmation=false;">Nevermind</a> <em>or</em> <a class="remove" data-ng-click="remove_confirmation=false;onFileRemove(file, field.relationship, $index)">Permanently remove</a></span> </p> </div> </div> </div> <p class="help-block">{{ field.help }}</p> </div> </fieldset> <div class="form-group"> <input type="submit" id="save" name="save" data-ng-click="data.save()" class="button pull-right" value="Create Feature"> </div> </form> </article> </section> </div> </div> </div>